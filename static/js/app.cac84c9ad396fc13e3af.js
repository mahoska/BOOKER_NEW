webpackJsonp([1],{"+/bc":function(t,e,a){"use strict";function r(t){a("xBuc")}var s=a("yYbU"),i=a("oBdD"),n=a("VU/8"),o=r,l=n(s.a,i.a,!1,o,"data-v-ffae6c44",null);e.a=l.exports},"/PN2":function(t,e){},"1GKN":function(t,e,a){"use strict";var r=a("mtWM"),s=a.n(r);e.a={name:"registration",props:["hour_format"],data:function(){return{user:{},roles:[],is_upd:"",err_upd:"",err_email:!1,err_log:"",err_name:!1,user_show:!0}},created:function(){var t=this;localStorage.hash_log?s.a.get(serverUrl+"BOOKER/client/api/user/"+localStorage.hash_log,this.config).then(function(e){parseInt(e.data.data.id)>0?"admin"==e.data.data.role?t.getRoles():t.$router.push({path:"/calendar"}):t.$emit("logout")}).catch(function(e){t.$emit("logout")}):this.$emit("logout"),this.getRoles()},methods:{editUser:function(){if(this.is_upd="",""==this.login||""==this.password||""==this.fullname||""==this.email||""==this.role_id)this.err_upd="not all fields are filled";else{if(this.check_email()&&this.check_name()&&this.check_login()){this.err_upd="";var t=this;s.a.put(serverUrl+"BOOKER/client/api/user/",{edit:!0,fullname:this.user.fullname,login:this.user.login,password:this.user.password,email:this.user.email,role_id:this.user.role_id,id:this.user_id},this.config).then(function(e){e.data.err&&1==e.data.err?(t.err_upd=e.data.data,setTimeout(function(){t.err_upd=""},3e3)):"1"==e.data.data&&(t.is_upd="record was updeted.",setTimeout(function(){t.is_upd=""},2500),t.$emit("updateEmployeeList"))}).catch(function(e){t.is_upd="No update was made. No new data was provided for the changes",setTimeout(function(){t.is_upd=""},2500)})}setTimeout(function(){this.err_upd=this.is_upd=""},2500)}},cancel:function(){this.login=this.password=this.fullname=this.email=this.role_id="",this.err_reg=this.is_reg=this.err_log=this.err_name=this.err_email="",this.$router.push({path:"/employeeList"})},check_email:function(){return 1!=/^[\.\-_A-Za-z0-9]+?@[\.\-A-Za-z0-9]+?(\.)[A-Za-z0-9]{2,3}$/.test(this.user.email)?(this.err_email=!0,!1):(this.err_email=!1,!0)},check_login:function(){return!0!==/^[\-_A-Za-z0-9]+$/.test(this.user.login)?(this.err_log="login contains invalid characters",!1):this.user.login.length<6?(this.err_log="login is too short",!1):(this.err_log="",!0)},check_name:function(){return!0!==/^[A-Za-z ]+$/.test(this.user.fullname)?(this.err_name=!0,!1):(this.err_name=!1,!0)},getRoles:function(){var t=this;s.a.get(serverUrl+"BOOKER/client/api/role/",this.config).then(function(e){t.roles=e.data.data}).catch(function(t){})}},computed:{user_id:function(){this.user_show=!0;var t=this.$route.params.user_id,e=this;return s.a.get(serverUrl+"BOOKER/client/api/user/"+t,this.config).then(function(t){e.user=t.data.data,e.user.password="",0==e.user.length&&(e.err_upd="Information about this client is absent",e.user_show=!1)}).catch(function(t){e.err_upd="Information about this client is absent",e.user_show=!1}),t}}}},"4ReH":function(t,e){},"4jld":function(t,e,a){"use strict";var r=a("mtWM"),s=a.n(r);e.a={name:"registration",props:["hour_format"],data:function(){return{fullname:"",login:"",password:"",email:"",role_id:2,roles:[],is_reg:"",err_reg:"",err_email:!1,err_log:"",err_name:!1}},created:function(){var t=this;localStorage.hash_log?s.a.get(serverUrl+"BOOKER/client/api/user/"+localStorage.hash_log,this.config).then(function(e){parseInt(e.data.data.id)>0?"admin"==e.data.data.role?t.getRoles():t.$router.push({path:"/calendar"}):t.$emit("logout")}).catch(function(e){t.$emit("logout")}):this.$emit("logout"),this.getRoles()},methods:{cancel:function(){this.login=this.password=this.fullname=this.email=this.role_id="",this.err_reg=this.is_reg=this.err_log=this.err_name=this.err_email="",this.$router.push({path:"/employeeList"})},check_email:function(){return 1!=/^[\.\-_A-Za-z0-9]+?@[\.\-A-Za-z0-9]+?(\.)[A-Za-z0-9]{2,3}$/.test(this.email)?(this.err_email=!0,!1):(this.err_email=!1,!0)},check_login:function(){return!0!==/^[\-_A-Za-z0-9]+$/.test(this.login)?(this.err_log="login contains invalid characters",!1):this.login.length<6?(this.err_log="login is too short",!1):(this.err_log="",!0)},check_name:function(){return!0!==/^[A-Za-z ]+$/.test(this.fullname)?(this.err_name=!0,!1):(this.err_name=!1,!0)},getRoles:function(){var t=this;s.a.get(serverUrl+"BOOKER/client/api/role/",this.config).then(function(e){t.roles=e.data.data}).catch(function(t){})},addUser:function(){if(this.is_reg="",""==this.login||""==this.password||""==this.fullname||""==this.email||""==this.role_id)this.err_reg="not all fields are filled";else if(this.check_email()&&this.check_name()&&this.check_login()){this.err_reg="";var t=this,e=new FormData;e.append("login",this.login),e.append("password",this.password),e.append("fullname",this.fullname),e.append("email",this.email),e.append("role_id",this.role_id);var t=this;localStorage.hash_log?s.a.get(serverUrl+"BOOKER/client/api/user/"+localStorage.hash_log,this.config).then(function(a){parseInt(a.data.data.id)>0?s.a.post(serverUrl+"BOOKER/client/api/user/",e,t.config).then(function(e){e.data.err&&1==e.data.err?(t.err_reg=e.data.data,setTimeout(function(){t.err_reg=""},2500)):parseInt(e.data.data)>0?(t.login=t.password=t.fullname=t.email=t.role_id="",t.err_reg="",t.is_reg="user is successfully added",t.$emit("updateEmployeeList"),setTimeout(function(){t.is_reg=""},2500)):(t.err_reg="sorry, there was a server error.Try again later",setTimeout(function(){t.err_reg=""},2500))}).catch(function(e){t.err_reg="sorry, there was a server error.Try again later"}):t.$emit("logout")}).catch(function(e){t.$emit("logout")}):this.$emit("logout")}setTimeout(function(){this.err_reg="",this.is_reg=""},2500)}}}},"5VsW":function(t,e,a){"use strict";var r=a("mtWM"),s=a.n(r);e.a={name:"reservation",props:["hour_format"],data:function(){return{room_id:0,room_name:"",user_id:"",monthes_templ:[{id:0,name:"January"},{id:1,name:"February"},{id:2,name:"March"},{id:3,name:"April"},{id:4,name:"May"},{id:5,name:"June"},{id:6,name:"July"},{id:7,name:"August"},{id:8,name:"September"},{id:9,name:"October"},{id:10,name:"November"},{id:11,name:"December"}],users:[],year:0,month:0,day:0,hour_start:0,minute_start:0,hour_end:0,minute_end:0,day_part_start:"am",day_part_end:"am",description:"",is_recur:1,recur_period:"w",added_events:[],user:{},res_add:"",is_admin:!1,duration:1,err_desc:"",err_time:"",err_add:""}},created:function(){var t=this;localStorage.hash_log?s.a.get(serverUrl+"BOOKER/client/api/user/"+localStorage.hash_log,this.config).then(function(e){parseInt(e.data.data.id)>0?(t.user={id:e.data.data.id,fullname:e.data.data.fullname},t.user_id=t.user.id,"admin"==e.data.data.role&&(t.is_admin=!0),t.is_admin?t.getUsers():t.users=[t.user],t.room_id=t.$route.params.room_id,t.getRoomName(),t.getCurParams()):t.$emit("logout")}).catch(function(e){t.$emit("logout")}):this.$emit("logout")},methods:{getCurParams:function(){var t=new Date;this.year=t.getFullYear();for(var e=this.monthes_templ.length,a=0;a<e;a++)if(this.monthes_templ[a].id==t.getMonth()){this.month=this.monthes_templ[a].id;break}this.day=t.getDate(),t.getMinutes()>10?(this.hour_start=t.getHours()+1,this.minute_start=0,this.hour_end=this.hour_start,this.minute_end=30):(this.hour_start=t.getHours(),this.minute_start=30,this.hour_end=this.hour_start+1,this.minute_end=0)},getRoomName:function(){var t=this;s.a.get(serverUrl+"BOOKER/client/api/room/"+this.room_id,this.config).then(function(e){t.room_name=e.data.data.name})},cancel:function(){this.description=this.err_add=this.res_add="",this.is_recur=1,this.recur_period="w",this.duration=1,this.added_events=[],this.res_add=this.err_add="",this.getCurParams()},getUsers:function(){var t=this;s.a.get(serverUrl+"BOOKER/client/api/user/",this.config).then(function(e){t.users=e.data.data}).catch(function(t){})},durationCheck:function(t){"w"==this.recur_period&&(t.keyCode<49||t.keyCode>52)&&(t.keyCode<97||t.keyCode>100)?t.preventDefault():"b"==this.recur_period&&(t.keyCode<49||t.keyCode>50)&&(t.keyCode<97||t.keyCode>98)?t.preventDefault():"m"==this.recur_period&&49!=t.keyCode&&t.preventDefault()},descriptionCheck:function(){return!0!==/^[!?\(\)=:.,;'"â„–%$\-\w\s]+$/.test(this.description)?(this.err_desc="text contains invalid characters",!1):(this.err_desc="",!0)},add_event:function(){if(!this.descriptionCheck())return void(this.err_add="description contains invalid characters");this.err_time="",this.err_add=this.res_add="";"h12"==this.hour_format&&("pm"==this.day_part_start&&this.hour_start<12&&(this.hour_start+=12),"pm"==this.day_part_end&&this.hour_end<12&&(this.hour_end+=12));var t=this.getUnixTimestamp(this.year,this.month,this.day,this.hour_start,this.minute_start),e=this.getUnixTimestamp(this.year,this.month,this.day,this.hour_end,this.minute_end),a=this.getUnixTimestamp(this.year,this.month,this.day,0,0);if(t>=e){this.err_time="Uncorrect time. Time start must be less then time end and min time event = 30 minutes";var r=this;setTimeout(function(){r.err_time=""},2500)}else{var i=!1,n=null,o=null;1==this.is_recur&&(i=!0,o=this.recur_period,n=this.duration);var l=new FormData;l.append("user_id",this.user_id),l.append("room_id",this.room_id),l.append("description",this.description),l.append("start_event",t),l.append("end_event",e),l.append("day_event",a),l.append("is_repeate",i),l.append("recur_period",o),l.append("duration",n);var r=this;localStorage.hash_log?s.a.get(serverUrl+"BOOKER/client/api/user/"+localStorage.hash_log,this.config).then(function(t){parseInt(t.data.data.id)>0?s.a.post(serverUrl+"BOOKER/client/api/event/",l,r.config).then(function(t){if(t.data.err&&1==t.data.err)r.err_add=t.data.data,setTimeout(function(){r.err_add=""},2500);else{var e=parseInt(t.data.data.count);e>0?(r.added_events=t.data.data.events,r.res_add=e+" event(s) was(were) successfully added",1==r.is_recur&&e<++r.duration_db&&(r.res_add+="If the claimed armor is less than the added events - perhaps the room at this time is booked. Check on the calendar.")):(r.err_add="sorry, there was a server error.Try again later",setTimeout(function(){r.err_add=""},2500))}}).catch(function(t){r.err_add="sorry, there was a server error.Try again later"}):r.$emit("logout")}).catch(function(t){r.$emit("logout")}):this.$emit("logout")}},getUnixTimestamp:function(t,e,a,r,s){return Math.floor(new Date(t,e,a,r,s,0,0).getTime()/1e3)}},computed:{years:function(){var t=new Date,e=t.getFullYear();return[e,e+1]},monthes:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth();if(this.year==e){var r=[];return this.monthes_templ.forEach(function(t){t.id>=a&&r.push(t)},this),r}return this.monthes_templ},days:function(){for(var t=32-new Date(this.year,this.month,32).getDate(),e=new Date,a=e.getMonth(),r=e.getFullYear(),s=e.getDate(),i=[],n=1;n<=t;n++)a==this.month&&this.year==r&&n<s||i.push(n);return i},hours_12_end:function(){return"am"==this.day_part_end?hours_am:hours_pm},hours_12_start:function(){if("am"==this.day_part_start)return hours_am;var t=hours_pm.slice();return t.pop(),t},hours_24_start:function(){var t=hours_24.slice();return t.pop(),t},hours_24_end:function(){return hours_24},f12:function(){return"h12"==this.hour_format},f24:function(){return"h24"==this.hour_format},is_recurive_event:function(){return"1"==this.is_recur}}}},"6y5l":function(t,e){},"8c/l":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reservation"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-12 "},[a("div",{staticClass:"selected_room"},[t._v(t._s(t.room_name))])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n      1. Booked for\n    ")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3 col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.user_id,expression:"user_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.user_id=e.target.multiple?a:a[0]}}},t._l(t.users,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n            "+t._s(e.fullname)+"\n          ")])}))]),t._v(" "),a("div",{staticClass:"col-sm-9 col-md-9"})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n      2. I would like to book this meeting:\n    ")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-2 col-md-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.month=e.target.multiple?a:a[0]}}},t._l(t.monthes,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n            "+t._s(e.name)+"\n          ")])}))]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.day,expression:"day"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.day=e.target.multiple?a:a[0]}}},t._l(t.days,function(e,r){return a("option",{key:r,domProps:{value:e}},[t._v("\n            "+t._s(e)+"\n          ")])}))]),t._v(" "),a("div",{staticClass:"col-sm-2 col-md-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.year=e.target.multiple?a:a[0]}}},t._l(t.years,function(e,r){return a("option",{key:r,domProps:{value:e}},[t._v("\n            "+t._s(e)+"\n          ")])}))]),t._v(" "),a("div",{staticClass:"col-sm-7 col-md-7"})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n      3. Specify what the time and end  of the meeting \n        (This will be what people see on the calendar.):\n    ")]),t._v(" "),a("div",{staticClass:"red"},[t._v(t._s(t.err_time))]),t._v(" "),1==t.f24?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-1 col-md-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.hour_start,expression:"hour_start"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.hour_start=e.target.multiple?a:a[0]}}},t._l(t.hours_24_start,function(e,r){return a("option",{key:r,domProps:{value:e}},[t._v("\n              "+t._s(e)+"\n            ")])}))]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.minute_start,expression:"minute_start"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.minute_start=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("00")]),t._v(" "),a("option",{attrs:{value:"30"}},[t._v("30")])])]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1",staticStyle:{"text-align":"center"}},[t._v(" - ")]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.hour_end,expression:"hour_end"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.hour_end=e.target.multiple?a:a[0]}}},t._l(t.hours_24_end,function(e,r){return a("option",{key:r,domProps:{value:e}},[t._v("\n                "+t._s(e)+"\n              ")])}))]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.minute_end,expression:"minute_end"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.minute_end=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("00")]),t._v(" "),a("option",{attrs:{value:"30"}},[t._v("30")])])]),t._v(" "),a("div",{staticClass:"col-sm-7 col-md-7"})]):t._e(),t._v(" "),1==t.f12?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-1 col-md-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.hour_start,expression:"hour_start"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.hour_start=e.target.multiple?a:a[0]}}},t._l(t.hours_12_start,function(e){return a("option",{key:e,domProps:{value:e}},[t._v("\n              "+t._s(e)+"\n            ")])}))]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.minute_start,expression:"minute_start"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.minute_start=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("00")]),t._v(" "),a("option",{attrs:{value:"30"}},[t._v("30")])])]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.day_part_start,expression:"day_part_start"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.day_part_start=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"am"}},[t._v("AM")]),t._v(" "),a("option",{attrs:{value:"pm"}},[t._v("PM")])])]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1",staticStyle:{"text-align":"center"}},[t._v(" - ")]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.hour_end,expression:"hour_end"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.hour_end=e.target.multiple?a:a[0]}}},t._l(t.hours_12_end,function(e){return a("option",{key:e,domProps:{value:e}},[t._v("\n              "+t._s(e)+"\n            ")])}))]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.minute_end,expression:"minute_end"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.minute_end=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("00")]),t._v(" "),a("option",{attrs:{value:"30"}},[t._v("30")])])]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.day_part_end,expression:"day_part_end"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.day_part_end=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"am"}},[t._v("AM")]),t._v(" "),a("option",{attrs:{value:"pm"}},[t._v("PM")])])]),t._v(" "),a("div",{staticClass:"col-sm-5 col-md-5"})]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n      4.Enter the specifics for the meeting.(This will be what people\n        see when they click on an event link.)\n    ")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-5 col-md-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{rows:"5",title:"permissible symbols: letters of the Latin alphabet, numbers, and also !?()=: . , ; ' â„– % $ -"},domProps:{value:t.description},on:{keydown:t.descriptionCheck,input:function(e){e.target.composing||(t.description=e.target.value)}}}),t._v(" "),a("p",{staticClass:"err_small"},[t._v(t._s(t.err_desc))])]),t._v(" "),a("div",{staticClass:"col-sm-7 col-md-7"})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("\n        5. Is this going to be a recurring event?\n      ")]),t._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.is_recur,expression:"is_recur"}],attrs:{type:"radio",name:"recur",id:"recur1",value:"1"},domProps:{checked:t._q(t.is_recur,"1")},on:{change:function(e){t.is_recur="1"}}}),t._v("yes\n        ")])]),t._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.is_recur,expression:"is_recur"}],attrs:{type:"radio",name:"recur",id:"recur2",value:"0"},domProps:{checked:t._q(t.is_recur,"0")},on:{change:function(e){t.is_recur="0"}}}),t._v("no\n        ")])])]),t._v(" "),1==t.is_recurive_event?a("div",{staticClass:"form-group"},[a("label",[t._v("\n        6. If it is recurring, specify weekly, bi-weekly, or monthly.\n      ")]),t._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.recur_period,expression:"recur_period"}],attrs:{type:"radio",name:"recur_period",id:"recurp1",value:"w"},domProps:{checked:t._q(t.recur_period,"w")},on:{change:function(e){t.recur_period="w"}}}),t._v("weekly\n        ")])]),t._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.recur_period,expression:"recur_period"}],attrs:{type:"radio",name:"recur_period",id:"recurp2",value:"b"},domProps:{checked:t._q(t.recur_period,"b")},on:{change:function(e){t.recur_period="b"}}}),t._v("bi-weekly\n        ")])]),t._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.recur_period,expression:"recur_period"}],attrs:{type:"radio",name:"recur_period",id:"recurp3",value:"m"},domProps:{checked:t._q(t.recur_period,"m")},on:{change:function(e){t.recur_period="m"}}}),t._v("monthly\n        ")])]),t._v(" "),a("label",[t._v(' \n        If weekly or bi-weekly, specify the number of weeks for it to keep recurring. \n        If monthly, specify the number of months. \n        (If you choose "bi-weekly" and put in an odd number of weeks,\n        the computer will round down.)\n      ')]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-1 col-md-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.duration,expression:"duration"}],staticClass:"form-control num_only",attrs:{oninput:"if(this.value>10) this.value = this.value%10  "},domProps:{value:t.duration},on:{keydown:t.durationCheck,input:function(e){e.target.composing||(t.duration=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-sm-2 col-md-2"},["w"==t.recur_period?a("label",[t._v("duration(max 4 weeks)")]):t._e(),t._v(" "),"b"==t.recur_period?a("label",[t._v("duration(max 2 weeks)")]):t._e(),t._v(" "),"m"==t.recur_period?a("label",[t._v("duration(max 1 month)")]):t._e()]),t._v(" "),a("div",{staticClass:"col-sm-9 col-md-9"})])]):t._e(),t._v(" "),a("div",{staticClass:"red"},[t._v(t._s(t.err_add))]),t._v(" "),a("div",[a("div",[t._v(t._s(t.res_add))]),t._v(" "),a("ul",t._l(t.added_events,function(e,r){return a("li",{key:r},[t._v("\n          "+t._s(e.event.start)+" -  "+t._s(e.event.end)+"  - \n          "),0==e.suc?a("span",{staticClass:"red"},[t._v("not")]):t._e(),t._v(" \n          added\n        ")])}))]),t._v(" "),a("button",{staticClass:"btn btn-auth",on:{click:t.add_event}},[t._v("Submit")]),t._v(" "),a("button",{staticClass:"btn btn-auth",attrs:{type:"cancel"},on:{click:t.cancel}},[t._v("Cancel")])])},s=[],i={render:r,staticRenderFns:s};e.a=i},A2Bh:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("img",{staticClass:"bg",attrs:{src:"static/fon2.jpg"}}),t._v(" "),a("div",{attrs:{id:"header-booker"}},[a("nav",{staticClass:"navbar  navbar-fixed-top transp booker-nav",attrs:{role:"navigation"}},[a("div",{staticClass:"container-fluid"},[a("router-link",{attrs:{to:"/"}},[a("span",{staticClass:"navbar-brand span-logo"},[t._v("BOARDROOM BOOKER")])]),t._v(" "),1==t.is_auth?a("ul",{staticClass:"nav navbar-nav nav-ul"},[a("li",[a("router-link",{staticClass:"nav-li",attrs:{to:"/calendar"}},[t._v("Calendar")])],1),t._v(" "),t.is_admin?a("li",[a("router-link",{staticClass:"nav-li",attrs:{to:"/employeeList"}},[t._v("Employee List")])],1):t._e()]):t._e()],1)]),t._v(" "),1==t.is_auth?a("div",{staticClass:"auth-form"},[a("table",{staticClass:"is_check"},[a("tr",[a("td",[a("div",{staticClass:"log_span"},[t._v("Welcome, ")]),t._v(" "),a("div",{staticClass:"login"},[t._v(" "+t._s(t.fullname))])]),t._v(" "),a("td",{staticClass:"small"},[a("button",{staticClass:"btn btn-auth",on:{click:t.logout}},[a("span",{staticClass:"glyphicon glyphicon-log-out",attrs:{"aria-hidden":"true"}})])])]),t._v(" "),a("tr",[t._m(0),t._v(" "),a("td",{staticClass:"small"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.hour_format,expression:"hour_format"}],staticClass:"form-control hour-sel",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.hour_format=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"h12"}},[t._v("12")]),t._v(" "),a("option",{attrs:{value:"h24"}},[t._v("24")])])])])])]):t._e()]),t._v(" "),a("div",{staticClass:"authorization"},[0==t.is_auth?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4 col-md-4"}),t._v(" "),a("div",{staticClass:"col-sm-4 col-md-4"},[a("div",{staticClass:"err"},[t._v(t._s(t.err_log))]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"login"}},[t._v("Login")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.login,expression:"login",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"login",placeholder:"login"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"center"},[a("button",{staticClass:"btn btn-auth",on:{click:t.flogin}},[t._v("Login")]),t._v(" "),a("button",{staticClass:"btn btn-auth",on:{click:t.cancel}},[t._v("Cancel")])])]),t._v(" "),a("div",{staticClass:"col-sm-4 col-md-4"})]):t._e()]),t._v(" "),a("div",{staticClass:"container main-container"},[a("router-view",{attrs:{hour_format:t.hour_format},on:{logout:t.logout}})],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t._v("Select "),a("br"),t._v(" hours-format:")])}],i={render:r,staticRenderFns:s};e.a=i},AbJR:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-user"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-1 col-md-1"}),t._v(" "),a("div",{staticClass:"col-sm-10 col-md-10"},[a("div",{staticClass:"err",staticStyle:{width:"100%"}},[t._v(t._s(t.err_upd))]),t._v(" "),a("div",{staticClass:"err success"},[t._v(t._s(t.is_upd))]),t._v(" "),a("div",{staticClass:"lbl_upd"},[t._v("User(id:"+t._s(t.user_id)+") edit form:")]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"fullname"}},[t._v("Fullname")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.fullname,expression:"user.fullname",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"fullname",placeholder:"fullname"},domProps:{value:t.user.fullname},on:{blur:[t.check_name,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.user,"fullname",e.target.value.trim())}}}),t._v(" "),t.err_name?a("div",{staticClass:"err_small"},[t._v("fullname contains invalid characters")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.email,expression:"user.email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"email"},domProps:{value:t.user.email},on:{blur:[t.check_email,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value.trim())}}}),t._v(" "),t.err_email?a("div",{staticClass:"err_small"},[t._v("wrong email format")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"login"}},[t._v("Login")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.login,expression:"user.login",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"login",placeholder:"login"},domProps:{value:t.user.login},on:{blur:[t.check_login,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.user,"login",e.target.value.trim())}}}),t._v(" "),a("div",{staticClass:"err_small"},[t._v(t._s(t.err_log))])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.password,expression:"user.password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("Role")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.user.role_id,expression:"user.role_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.user,"role_id",e.target.multiple?a:a[0])}}},t._l(t.roles,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n            "+t._s(e.name)+"\n          ")])}))]),t._v(" "),a("div",{staticClass:"center"},[a("button",{staticClass:"btn btn-auth",on:{click:t.editUser}},[t._v("Update user")]),t._v(" "),a("button",{staticClass:"btn btn-auth",attrs:{type:"cancel"},on:{click:t.cancel}},[t._v("cancel")])])]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1"})])])},s=[],i={render:r,staticRenderFns:s};e.a=i},DM5p:function(t,e){},E5zT:function(t,e,a){"use strict";var r=a("mtWM"),s=a.n(r);e.a={name:"employeeList",data:function(){return{users:[],user:{},err_del:"",res_del:"",user_id:""}},created:function(){var t=this;localStorage.hash_log?s.a.get(serverUrl+"BOOKER/client/api/user/"+localStorage.hash_log,this.config).then(function(e){var a=parseInt(e.data.data.id);a>0?(t.user=e.data.data,"admin"!=t.user.role&&t.$router.push({path:"/calendar"}),t.user_id=a,t.getUsers()):t.$emit("logout")}).catch(function(e){t.$emit("logout")}):t.$emit("logout")},methods:{getUsers:function(){var t=this;s.a.get(serverUrl+"BOOKER/client/api/user/",this.config).then(function(e){t.users=e.data.data}).catch(function(t){})},deleteUser:function(t){var e=this;if(t==this.user_id)return this.err_del="you can not remove yourself",void setTimeout(function(){e.err_del=""},2500);confirm("Are you sure you want to delete this user?")&&s.a.delete(serverUrl+"BOOKER/client/api/user/"+t,this.config).then(function(t){t.data.err&&1==t.data.err?(e.err_del=t.data.data,setTimeout(function(){e.err_del=""},2500)):1==parseInt(t.data.data)?(e.res_del="Record  deleted.",setTimeout(function(){e.res_del=""},2500),e.getUsers()):(e.err_del="Record doesn't deleted",setTimeout(function(){e.err_del=""},2500))}).catch(function(t){e.err_del="Record doesn't deleted",setTimeout(function(){e.err_del=""},2500)})}}}},H2he:function(t,e,a){"use strict";function r(t){a("4ReH")}var s=a("E5zT"),i=a("VyGa"),n=a("VU/8"),o=r,l=n(s.a,i.a,!1,o,"data-v-3b6a95e1",null);e.a=l.exports},M93x:function(t,e,a){"use strict";function r(t){a("Qbu1")}var s=a("xJD8"),i=a("A2Bh"),n=a("VU/8"),o=r,l=n(s.a,i.a,!1,o,null,null);e.a=l.exports},N9i8:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calendar"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-12"},[a("ul",{staticClass:"nav nav-tabs"},t._l(t.rooms,function(e){return a("li",{key:e.id,attrs:{role:"presentation"}},[a("a",{attrs:{href:"#"},on:{click:function(a){t.getInfoRoom(e)}}},[t._v(t._s(e.name))])])}))])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-12 "},[a("div",{staticClass:"selected_room"},[t._v(t._s(t.select_room_name))])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-12"},[a("nav",{attrs:{"aria-label":"Page navigation"}},[a("ul",{staticClass:"pagination"},[a("li",[a("a",{attrs:{href:"#","aria-label":"Previous"},on:{click:t.previous}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Â«")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"}},[t._v(t._s(t.month)+" "+t._s(t.currentYear))])]),t._v(" "),a("li",[a("a",{attrs:{href:"#","aria-label":"Next"},on:{click:t.next}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Â»")])])])])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-10 col-md-10"},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",t._l(t.weekDay,function(e,r){return a("td",{key:r,staticClass:"week-day"},[t._v(t._s(e))])}))]),t._v(" "),a("tbody",t._l(t.dates,function(e,r){return a("tr",{key:r},t._l(e,function(e,r){return a("td",{key:r},[a("day-section",{attrs:{day:e,hformat:t.hour_format,room:t.select_room_name},on:{updateCalendar:t.updateCalendar}})],1)}))}))])]),t._v(" "),a("div",{staticClass:"col-sm-2 col-md-2"},[a("div",{staticClass:"right-bar"},[a("button",{staticClass:"btn btn-auth",on:{click:t.changeStartWeek}},[t._v("Change start week")]),t._v(" "),a("button",{staticClass:"btn book"},[a("router-link",{attrs:{to:"/reservation/"+t.select_room_id}},[t._v("Book it!")])],1)])])])])},s=[],i={render:r,staticRenderFns:s};e.a=i},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("7+uW"),s=a("M93x"),i=a("YaEn");r.a.config.productionTip=!1,new r.a({el:"#app",router:i.a,template:"<App/>",components:{App:s.a}})},PNBq:function(t,e,a){"use strict";function r(t){a("/PN2")}var s=a("5VsW"),i=a("8c/l"),n=a("VU/8"),o=r,l=n(s.a,i.a,!1,o,"data-v-4f9ea832",null);e.a=l.exports},Qbu1:function(t,e){},T8kR:function(t,e,a){"use strict";function r(t){a("DM5p")}var s=a("o/ku"),i=a("dO3c"),n=a("VU/8"),o=r,l=n(s.a,i.a,!1,o,"data-v-6f4961f5",null);e.a=l.exports},VyGa:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"employeeList"},[a("router-link",{staticClass:"btn btn-auth",attrs:{to:"/employeeList/registration"}},[t._v("\n       Add user\n  ")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 col-md-6"},[a("div",{staticClass:"err"},[t._v(t._s(t.err_del))]),t._v(" "),a("div",[t._v(t._s(t.res_del))]),t._v(" "),a("table",{staticClass:"table table-bordered"},[t._m(0),t._v(" "),t._l(t.users,function(e){return a("tr",{key:e.id},[a("td",[a("a",{attrs:{href:"mailto:user.email"}},[t._v(t._s(e.fullname))])]),t._v(" "),a("td",[a("router-link",{staticClass:"btn btn-auth",attrs:{to:"/employeeList/editUser/"+e.id}},[a("span",{staticClass:"glyphicon glyphicon-wrench",attrs:{"aria-hidden":"true"}})])],1),t._v(" "),a("td",[a("button",{staticClass:"btn btn-auth",on:{click:function(a){t.deleteUser(e.id)}}},[a("span",{staticClass:"glyphicon glyphicon-trash",attrs:{"aria-hidden":"true"}})])])])})],2)]),t._v(" "),a("div",{staticClass:"col-sm-6 col-md-6"},[a("router-view",{on:{updateEmployeeList:t.getUsers}})],1)])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("User fullname")]),t._v(" "),a("th",[t._v("Edit")]),t._v(" "),a("th",[t._v("Delete")])])}],i={render:r,staticRenderFns:s};e.a=i},YT0m:function(t,e,a){"use strict";var r=a("mtWM"),s=a.n(r),i=a("+/bc");e.a={name:"calendar",props:["hour_format"],data:function(){return{currentYear:0,currentMonth:0,monthes:["January","February","March","April","May","June","July","August","September","October","November","December"],weekDayM:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],weekDayS:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekDay:[],month:"",indexes:[],dayOfWeek:0,rooms:[],select_room_id:0,select_room_name:"",events:[],dates:[],startWeek:!1}},components:{"day-section":i.a},created:function(){var t=new Date;this.currentYear=t.getFullYear(),this.currentMonth=t.getMonth();t.getDate();this.getRooms(),this.getInfoRoom({id:this.select_room_id,name:this.select_room_name}),this.weekDay=this.weekDayM},methods:{updateCalendar:function(){this.getInfoRoom({id:this.select_room_id,name:this.select_room_name})},getRooms:function(){var t=this;s.a.get(serverUrl+"BOOKER/client/api/room/",this.config).then(function(e){t.rooms=e.data.data,t.select_room_id=t.rooms[0].id,t.select_room_name=t.rooms[0].name,t.getInfoRoom(t.rooms[0])}).catch(function(t){console.log(t)})},getInfoRoom:function(t){this.select_room_id=t.id,this.select_room_name=t.name,this.getDataForMonth()},previous:function(){this.currentMonth--,0==this.currentMonth&&(this.currentMonth=11,this.currentYear--),this.getDataForMonth()},next:function(){this.currentMonth++,12==this.currentMonth&&(this.currentMonth=0,this.currentYear++),this.getDataForMonth()},getDataForMonth:function(){var t=this,e=this.getUnixTimestamp(this.currentYear,this.currentMonth,1,0,0),a=32-new Date(this.currentYear,this.currentMonth,32).getDate();s.a.get(serverUrl+"BOOKER/client/api/event/"+this.select_room_id+"/"+e+"/"+a,this.config).then(function(e){t.events=e.data.data,t.getDates()}).catch(function(t){})},getUnixTimestamp:function(t,e,a,r,s){return Math.floor(new Date(t,e,a,r,s,0,0).getTime()/1e3)},timestampToDate:function(t){return new Date(1e3*t)},getDates:function(){var t=[],e=new Date(this.currentYear,this.currentMonth,1);e.setDate(1),this.dayOfWeek=e.getDay(),0==this.dayOfWeek&&(this.dayOfWeek=7),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear();var a=32-new Date(this.currentYear,this.currentMonth,32).getDate(),r=this.currentMonth-1;0==this.currentMonth&&(r=11);var s=this.currentYear;0==this.currentMonth&&(s=this.currentYear-1);var i=32-new Date(s,r,32).getDate();e.getDate();this.month=this.monthes[this.currentMonth];for(var n=[],o=0,l=0,c=0,u=2-this.dayOfWeek;u<=43-this.dayOfWeek;u++)(u-1+this.dayOfWeek)%7==1&&(n=[]),o=0,o=u<=0?-(i+u):u>a?-(u-a):u,this.startWeek&&--o,o>0?n.push({day:o,cur:!0,day_event:this.events[o]}):(n.push({day:"",cur:!1,day_event:[]}),l++),c++,(u-1+this.dayOfWeek)%7==0&&(7!=l&&t.push(n),c=0,l=0);this.dates=t},changeStartWeek:function(){this.startWeek=!this.startWeek,this.startWeek?this.weekDay=this.weekDayS:this.weekDay=this.weekDayM,this.getDataForMonth()}}}},YaEn:function(t,e,a){"use strict";var r=a("7+uW"),s=a("/ocq"),i=a("iyFI"),n=a("PNBq"),o=a("mRaa"),l=a("H2he"),c=a("h9m6"),u=a("T8kR");r.a.use(s.a),e.a=new s.a({routes:[{path:"/calendar",name:"calendar",component:i.a},{path:"/reservation/:room_id",name:"reservation",component:n.a},{path:"/employeeList",name:"employeeList",component:l.a,children:[{path:"registration",name:"registration",component:o.a},{path:"editUser/:user_id",name:"editUser",component:c.a}]},{path:"/event/:event_id/:hour_format/:room",name:"event",component:u.a}]})},aaaW:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-client"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-1 col-md-1"}),t._v(" "),a("div",{staticClass:"col-sm-10 col-md-10"},[a("div",{staticClass:"err",staticStyle:{width:"100%"}},[t._v(t._s(t.err_reg))]),t._v(" "),a("div",{staticClass:"success err"},[t._v(t._s(t.is_reg))]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"fullname"}},[t._v("Fullname")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.fullname,expression:"fullname",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"fullname",placeholder:"fullname"},domProps:{value:t.fullname},on:{blur:[t.check_name,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.fullname=e.target.value.trim())}}}),t._v(" "),t.err_name?a("div",{staticClass:"err_small"},[t._v("fullname contains invalid characters")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"email"},domProps:{value:t.email},on:{blur:[t.check_email,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.email=e.target.value.trim())}}}),t._v(" "),t.err_email?a("div",{staticClass:"err_small"},[t._v("wrong email format")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"login"}},[t._v("Login")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.login,expression:"login",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"login",placeholder:"login"},domProps:{value:t.login},on:{blur:[t.check_login,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.login=e.target.value.trim())}}}),t._v(" "),a("div",{staticClass:"err_small"},[t._v(t._s(t.err_log))])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("Role")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.role_id,expression:"role_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.role_id=e.target.multiple?a:a[0]}}},t._l(t.roles,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n            "+t._s(e.name)+"\n          ")])}))]),t._v(" "),a("div",{staticClass:"center"},[a("button",{staticClass:"btn btn-auth",on:{click:t.addUser}},[t._v("Registration")]),t._v(" "),a("button",{staticClass:"btn btn-auth",attrs:{type:"cancel"},on:{click:t.cancel}},[t._v("Cancel")])])]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1"})])])},s=[],i={render:r,staticRenderFns:s};e.a=i},dO3c:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"event"},[t.is_not_active_user?a("div",[t._v("\n      This operation is currently unavailable. \n      Your authorization period may be expired on the site.\n    ")]):t._e(),t._v(" "),a("div",{staticClass:"err_small"},[t._v(t._s(t.err_del))]),t._v(" "),a("div",[t._v(t._s(t.res_del))]),t._v(" "),t.disactive?t._e():a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-12 "},[a("div",{staticClass:"selected_room"},[t._v(t._s(t.room)+" BOOKED DETAILS")])])]),t._v("\n\n    When: \n    "),t._v(" "),a("div",{staticClass:"err_small "},[t._v(t._s(t.err_time))]),t._v(" "),1==t.f24?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-2 col-md-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.hour_start,expression:"hour_start"}],staticClass:"form-control select-event-time",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.hour_start=e.target.multiple?a:a[0]}}},t._l(t.hours_24_start,function(e,r){return a("option",{key:r,domProps:{value:e}},[t._v("\n          "+t._s(e)+"\n        ")])}))]),t._v(" "),a("div",{staticClass:"col-sm-2 col-md-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.minute_start,expression:"minute_start"}],staticClass:"form-control select-event-time",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.minute_start=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("00")]),t._v(" "),a("option",{attrs:{value:"30"}},[t._v("30")])])]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1",staticStyle:{"text-align":"center"}},[t._v(" - ")]),t._v(" "),a("div",{staticClass:"col-sm-2 col-md-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.hour_end,expression:"hour_end"}],staticClass:"form-control select-event-time",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.hour_end=e.target.multiple?a:a[0]}}},t._l(t.hours_24_end,function(e,r){return a("option",{key:r,domProps:{value:e}},[t._v("\n            "+t._s(e)+"\n          ")])}))]),t._v(" "),a("div",{staticClass:"col-sm-2 col-md-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.minute_end,expression:"minute_end"}],staticClass:"form-control select-event-time",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.minute_end=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("00")]),t._v(" "),a("option",{attrs:{value:"30"}},[t._v("30")])])]),t._v(" "),a("div",{staticClass:"col-sm-3 col-md-3"})]):t._e(),t._v(" "),1==t.f12?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-2 col-md-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.hour_start,expression:"hour_start"}],staticClass:"form-control select-event-time",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.hour_start=e.target.multiple?a:a[0]}}},t._l(t.hours_12_start,function(e){return a("option",{key:e,domProps:{value:e}},[t._v("\n            "+t._s(e)+"\n          ")])}))]),t._v(" "),a("div",{staticClass:"col-sm-2 col-md-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.minute_start,expression:"minute_start"}],staticClass:"form-control select-event-time",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.minute_start=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("00")]),t._v(" "),a("option",{attrs:{value:"30"}},[t._v("30")])])]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.day_part_start,expression:"day_part_start"}],staticClass:"form-control select-event-time",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.day_part_start=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"am"}},[t._v("AM")]),t._v(" "),a("option",{attrs:{value:"pm"}},[t._v("PM")])])]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1",staticStyle:{"text-align":"center"}},[t._v(" - ")]),t._v(" "),a("div",{staticClass:"col-sm-2 col-md-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.hour_end,expression:"hour_end"}],staticClass:"form-control select-event-time",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.hour_end=e.target.multiple?a:a[0]}}},t._l(t.hours_12_end,function(e){return a("option",{key:e,domProps:{value:e}},[t._v("\n            "+t._s(e)+"\n          ")])}))]),t._v(" "),a("div",{staticClass:"col-sm-2 col-md-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.minute_end,expression:"minute_end"}],staticClass:"form-control select-event-time",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.minute_end=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("00")]),t._v(" "),a("option",{attrs:{value:"30"}},[t._v("30")])])]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.day_part_end,expression:"day_part_end"}],staticClass:"form-control select-event-time",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.day_part_end=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"am"}},[t._v("AM")]),t._v(" "),a("option",{attrs:{value:"pm"}},[t._v("PM")])])]),t._v(" "),a("div",{staticClass:"col-sm-1 col-md-1"})]):t._e(),t._v("\n\n    Notes:\n    "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-5 col-md-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.event.description,expression:"event.description"}],staticClass:"form-control",attrs:{rows:"5",title:"permissible symbols: letters of the Latin alphabet, numbers, and also !?()=: . , ; ' â„– % $ -"},domProps:{value:t.event.description},on:{keydown:t.descriptionCheck,input:function(e){e.target.composing||t.$set(t.event,"description",e.target.value)}}}),t._v(" "),a("p",{staticClass:"err_small"},[t._v(t._s(t.err_desc))])]),t._v(" "),a("div",{staticClass:"col-sm-7 col-md-7"})]),t._v(" \n\n    Who:\n      "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3 col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.event.user_id,expression:"event.user_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.event,"user_id",e.target.multiple?a:a[0])}}},t._l(t.users,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n            "+t._s(e.fullname)+"\n          ")])}))]),t._v(" "),a("div",{staticClass:"col-sm-9 col-md-9"})]),t._v(" "),a("div",{staticClass:"create"},[t._v("\n      Submitted: "+t._s(t.event.data_create)+"\n    ")]),t._v(" "),t.show_is_recurse?a("div",{staticClass:"checkbox"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.is_recurse,expression:"is_recurse"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.is_recurse)?t._i(t.is_recurse,null)>-1:t.is_recurse},on:{change:function(e){var a=t.is_recurse,r=e.target,s=!!r.checked;if(Array.isArray(a)){var i=t._i(a,null);r.checked?i<0&&(t.is_recurse=a.concat([null])):i>-1&&(t.is_recurse=a.slice(0,i).concat(a.slice(i+1)))}else t.is_recurse=s}}}),t._v("Apply to occurrences?\n      ")])]):t._e(),t._v(" "),a("div",[a("div",[t._v(t._s(t.res_upd))]),t._v(" "),a("ul",t._l(t.updated_events,function(e,r){return a("li",{key:r},[t._v("\n          "+t._s(e.event.start)+" -  "+t._s(e.event.end)+"  - "),0==e.suc?a("span",{staticClass:"red"},[t._v("not")]):t._e(),t._v(" updated\n        ")])}))]),t._v(" "),t.is_admin?a("button",{staticClass:"btn btn-auth",on:{click:t.updateEvent}},[t._v("Update")]):t._e(),t._v(" "),t.is_admin?a("button",{staticClass:"btn btn-auth",on:{click:t.deleteEvent}},[t._v("Delete")]):t._e()])])},s=[],i={render:r,staticRenderFns:s};e.a=i},fHI9:function(t,e){},h9m6:function(t,e,a){"use strict";function r(t){a("mSke")}var s=a("1GKN"),i=a("AbJR"),n=a("VU/8"),o=r,l=n(s.a,i.a,!1,o,"data-v-2060572c",null);e.a=l.exports},iyFI:function(t,e,a){"use strict";function r(t){a("6y5l")}var s=a("YT0m"),i=a("N9i8"),n=a("VU/8"),o=r,l=n(s.a,i.a,!1,o,"data-v-5344ca33",null);e.a=l.exports},mRaa:function(t,e,a){"use strict";function r(t){a("fHI9")}var s=a("4jld"),i=a("aaaW"),n=a("VU/8"),o=r,l=n(s.a,i.a,!1,o,"data-v-b4bce8a4",null);e.a=l.exports},mSke:function(t,e){},"o/ku":function(t,e,a){"use strict";var r=a("mtWM"),s=a.n(r);e.a={name:"event",data:function(){return{event_id:0,hour_format:"h12",show_info:!0,user:{},users:[],event:{},hour_start:0,minute_start:0,hour_end:0,minute_end:0,day_part_start:"am",day_part_end:"am",is_recurse:!1,show_is_recurse:!1,disactive:!1,is_not_active_user:!1,updated_events:[],role:"user",is_admin:!0,year:0,month:0,day:0,err_time:"",err_desc:"",err_del:"",res_del:"",res_upd:""}},created:function(){this.event_id=this.$route.params.event_id,this.hour_format=this.$route.params.hour_format,this.room=this.$route.params.room;var t=this;localStorage.hash_log?s.a.get(serverUrl+"BOOKER/client/api/user/"+localStorage.hash_log,this.config).then(function(e){parseInt(e.data.data.id)>0?(t.user={id:e.data.data.id,fullname:e.data.data.fullname},t.event=e.data.data,t.role=e.data.data.role,"admin"==t.role&&t.getUsers(),s.a.get(serverUrl+"BOOKER/client/api/event/"+t.event_id,t.config).then(function(e){t.event=e.data.data;var a={id:t.event.user_id,fullname:t.event.fullname};"user"==t.role&&(t.users.push(a),a.id!=t.user.id&&(t.is_admin=!1));var r=new Date(1e3*t.event.start_event);t.year=r.getFullYear(),t.month=r.getMonth(),t.day=r.getDate(),document.title=t.day+"."+t.month+"."+t.year+".",t.hour_start=r.getHours(),t.minute_start=r.getMinutes();var s=new Date(1e3*t.event.end_event);t.hour_end=s.getHours(),t.minute_end=s.getMinutes(),"h12"==t.hour_format&&(t.hour_start>12?(t.hour_start-=12,t.day_part_start="pm"):12==t.hour_start&&(t.day_part_start="pm"),t.hour_end>12?(t.hour_end-=12,t.day_part_end="pm"):12==t.hour_end&&(t.day_part_end="pm")),(parseInt(t.event.parent_event_id)||parseInt(t.event.is_repeat)>0)&&(t.show_is_recurse=!0)}).catch(function(t){})):(t.disactive=!0,t.is_not_active_user=!0)}).catch(function(e){t.disactive=!0,t.is_not_active_user=!0}):(this.disactive=!0,this.is_not_active_user=!0)},methods:{updateEvent:function(){this.err_del="","h12"==this.hour_format&&("pm"==this.day_part_start&&this.hour_start<12&&(this.hour_start+=12),"pm"==this.day_part_end&&this.hour_end<12&&(this.hour_end+=12));var t=(new Date(1e3*this.event.start_event),this.getUnixTimestamp(this.year,this.month,this.day,this.hour_start,this.minute_start)),e=this.getUnixTimestamp(this.year,this.month,this.day,this.hour_end,this.minute_end),a=this.getUnixTimestamp(this.year,this.month,this.day,0,0),r=Math.floor((new Date).getTime()/1e3);if(t>=e){this.err_time="Uncorrect time. Time start must be less then time end and min time event = 30 minutes";var i=this;return void setTimeout(function(){i.err_time=""},2500)}if(r>=t)return this.err_time="This event has already expired and is not subject to change",void setTimeout(function(){i.err_time=""},2500);if(!this.descriptionCheck())return void(this.err_del="description contains invalid characters");var i=this;localStorage.hash_log?s.a.get(serverUrl+"BOOKER/client/api/user/"+localStorage.hash_log,this.config).then(function(r){if(parseInt(r.data.data.id)>0){var n=1==i.is_recurse?1:0;s.a.put(serverUrl+"BOOKER/client/api/event/",{id:i.event_id,description:i.event.description,room_id:i.event.room_id,user_id:i.event.user_id,start_hour:i.hour_start,end_hour:i.hour_end,start_minute:i.minute_start,end_minute:i.minute_end,unix_start:t,unix_end:e,unix_day:a,is_recurs:n},i.config).then(function(t){if(t.data.err&&1==t.data.err)i.err_del=t.data.data,setTimeout(function(){i.err_del=""},3e3);else{var e=parseInt(t.data.data.count);e>0?(i.updated_events=t.data.data.events,i.res_upd=e+" event(s) was(were) successfully updated"):(i.err_add="sorry, there was a server error.Try again later",setTimeout(function(){i.err_add=""},2500))}}).catch(function(t){i.err_del="somthing wrong, no update was made. Perhaps you did not provide the data for the update",setTimeout(function(){i.err_del=""},2500)})}else i.disactive=!0,i.is_not_active_user=!0}).catch(function(t){i.disactive=!0,i.is_not_active_user=!0}):(this.disactive=!0,this.is_not_active_user=!0)},deleteEvent:function(){if(confirm("Are you sure you want to delete this user?")){var t=(new Date(1e3*this.event.start_event),this.getUnixTimestamp(this.year,this.month,this.day,this.hour_start,this.minute_start));if(Math.floor((new Date).getTime()/1e3)>=t)return this.err_time="This event has already expired and is not subject to change",void setTimeout(function(){this.err_time=""},2500);var e=this;localStorage.hash_log?s.a.get(serverUrl+"BOOKER/client/api/user/"+localStorage.hash_log,this.config).then(function(t){if(parseInt(t.data.data.id)>0){var a=1==e.is_recurse?1:0;s.a.delete(serverUrl+"BOOKER/client/api/event/"+e.event_id+"/"+a,e.config).then(function(t){if(t.data.err&&1==t.data.err)e.err_del=t.data.data,setTimeout(function(){e.err_del=""},2500);else{var a=parseInt(t.data.data);a>0?(e.res_del=a+" record(s) was(were) deleted.",e.disactive=!0,setTimeout(function(){e.res_del=""},2500)):(e.err_del="Record(s) doesn't deleted",setTimeout(function(){e.err_del=""},2500))}}).catch(function(t){e.err_del="Record doesn't deleted",setTimeout(function(){e.err_del=""},2500)})}else e.disactive=!0}).catch(function(t){e.disactive=!0}):this.disactive=!0}},getUnixTimestamp:function(t,e,a,r,s){return Math.floor(new Date(t,e,a,r,s,0,0).getTime()/1e3)},getUsers:function(){var t=this;s.a.get(serverUrl+"BOOKER/client/api/user/",this.config).then(function(e){t.users=e.data.data}).catch(function(t){})},descriptionCheck:function(){return!0!==/^[!?\(\)=:.,;'"â„–%$\-\w\s]+$/.test(this.event.description)?(this.err_desc="text contains invalid characters",!1):(this.err_desc="",!0)}},computed:{hours_12_end:function(){return"am"==this.day_part_end?hours_am:hours_pm},hours_12_start:function(){if("am"==this.day_part_start)return hours_am;var t=hours_pm.slice();return t.pop(),t},hours_24_start:function(){var t=hours_24.slice();return t.pop(),t},hours_24_end:function(){return hours_24},f12:function(){return"h12"==this.hour_format},f24:function(){return"h24"==this.hour_format}}}},oBdD:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"daysection"},[t.day.cur?a("div",{staticClass:"section-cur"},[a("div",{staticClass:"date"},[t._v(t._s(t.day.day))]),t._v(" "),t._l(t.day.day_event.day_events,function(e,r){return a("div",{key:r,staticClass:"tbl_time"},[a("div",{staticClass:"time_event"},[a("a",{attrs:{href:"#"},on:{click:function(a){t.getInfoEvent(e.id)}}},["h24"==t.hformat?a("span",[t._v(t._s(e.start_event)+" - "+t._s(e.end_event))]):t._e(),t._v(" "),"h12"==t.hformat?a("span",[t._v(t._s(e.start_event_12)+" - "+t._s(e.end_event_12))]):t._e()])])])})],2):t._e(),t._v(" "),0==t.day.cur?a("div",{staticClass:"section-not-cur"},[a("div",{staticClass:"date"},[t._v(t._s(t.day.day))])]):t._e()])},s=[],i={render:r,staticRenderFns:s};e.a=i},xBuc:function(t,e){},xJD8:function(t,e,a){"use strict";var r=a("mtWM"),s=a.n(r);e.a={name:"app",data:function(){return{fullname:"",hour_format:"h24",is_auth:!0,is_admin:!1,login:"",password:"",err_log:""}},created:function(){var t=this;localStorage.hash_log?s.a.get(serverUrl+"BOOKER/client/api/user/"+localStorage.hash_log,this.config).then(function(e){if(e.data.err&&1==e.data.err)t.logout();else{parseInt(e.data.data.id)>0?(t.is_auth=!0,t.fullname=e.data.data.fullname,"admin"==e.data.data.role&&(t.is_admin=!0)):t.logout()}}).catch(function(e){t.logout(),console.log(e)}):this.logout()},methods:{logout:function(){localStorage.hash_log="",this.fullname="",this.is_auth=!1,this.is_admin=!1,this.login="",this.password="",this.$router.push({path:"/"})},flogin:function(){if(""==this.login||""==this.password)this.err_log="not all fields are filled";else{var t=this;this.err_log="",s.a.put(serverUrl+"BOOKER/client/api/user/",{login:this.login,password:this.password},this.config).then(function(e){e.data.err&&1==e.data.err?(t.err_log=e.data.data,setTimeout(function(){t.err_log=t.password=t.login=""},2500)):(t.is_auth=!0,localStorage.hash_log=e.data.data.status,t.fullname=e.data.data.fullname,"admin"==e.data.data.role&&(t.is_admin=!0),t.$router.push({path:"/calendar"}))}).catch(function(e){t.err_log="somthing wrong, authorization error",setTimeout(function(){t.err_log=""},2500)})}},cancel:function(){this.login="",this.password="",this.err_log=""}}}},yYbU:function(t,e,a){"use strict";var r=a("mtWM");a.n(r);e.a={name:"daysection",props:["hformat","day","room"],data:function(){return{}},methods:{getInfoEvent:function(t){var e=screen.availWidth/2-550,a=screen.availHeight/2-310,r=this;window.open(winUrl+"/#/event/"+t+"/"+this.hformat+"/"+this.room,"_blank","width=1100, height=620, left="+e+", top="+a+", resizable=yes").onbeforeunload=function(){r.$emit("updateCalendar")}}}}}},["NHnr"]);
//# sourceMappingURL=app.cac84c9ad396fc13e3af.js.map